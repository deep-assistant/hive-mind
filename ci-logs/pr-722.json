{"additions":10202,"baseRefName":"main","body":"This PR addresses issue #719 by:\n\n- Handling usage-limit outcomes for Claude, Codex, and OpenCode by surfacing a dedicated PR comment with reset time and resume instructions when `--attach-logs` is used.\n- Ensuring the run is marked as failed (non-zero exit) so CI and status reflect the failure rather than success.\n- Adding a case study with downloaded logs and analysis under `docs/case-studies/issue-719`.\n\nKey change:\n- `src/solve.mjs`: Pass `isUsageLimit`, `limitResetTime`, `toolName`, and `resumeCommand` to `attachLogToGitHub` when a tool run fails due to usage limit; fall back to generic failure template otherwise.\n\nCase study:\n- See `docs/case-studies/issue-719/case-study.md` for timeline, root cause, and proposed improvements.\n\n\n\nFixes #719","changedFiles":55,"comments":[{"author":{"login":"konard"},"authorAssociation":"MEMBER","body":"## ðŸ¤– Solution Draft Log\nThis log file contains the complete execution trace of the AI solution draft process.\n\nðŸ’° **Cost estimation:**\n- Public pricing estimate: unknown\n- Calculated by Anthropic: unknown\n- Difference: unknown\nðŸ“Ž **Log file uploaded as GitHub Gist** (1426KB)\nðŸ”— [View complete solution draft log](https://gist.github.com/konard/4d916545732bcdc2def78bedc62fe1e1)\n---\n*Now working session is ended, feel free to review and add any feedback on the solution draft.*","createdAt":"2025-11-13T04:04:50Z","id":"IC_kwDOPUU0qc7SHlcC","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/deep-assistant/hive-mind/pull/722#issuecomment-3525203714","viewerDidAuthor":true},{"author":{"login":"konard"},"authorAssociation":"MEMBER","body":"## ðŸ”„ Auto-restart 1/3\n\nDetected uncommitted changes from previous run. Starting new session to review and commit them.\n\n**Uncommitted files:**\n```\n?? logs.git-push.txt\n```\n\n---\n*Auto-restart will stop after changes are committed or after 2 more iterations. Please wait until working session will end and give your feedback.*","createdAt":"2025-11-13T04:04:58Z","id":"IC_kwDOPUU0qc7SHlmn","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/deep-assistant/hive-mind/pull/722#issuecomment-3525204391","viewerDidAuthor":true},{"author":{"login":"konard"},"authorAssociation":"MEMBER","body":"Bumped package version to 0.33.4 to satisfy the verify-version-bump check. CI has been re-triggered for commit 97aea4d.\\n\\nThe weekly usage limit handling (including reset time and PR comment formatting) is present in this branch via usage-limit detection in Claude/Codex/OpenCode paths and GitHub comment formatting. Once CI passes, this should be ready for review.\\n\\nIf any CI step still fails, I will download and analyze the logs to address it promptly.","createdAt":"2025-11-13T04:07:59Z","id":"IC_kwDOPUU0qc7SHoL2","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/deep-assistant/hive-mind/pull/722#issuecomment-3525214966","viewerDidAuthor":true},{"author":{"login":"konard"},"authorAssociation":"MEMBER","body":"Also fixed capturing of the usage limit reset time by assigning `global.limitResetTime` from the tool result in `src/solve.mjs`. This enables auto-continue messaging and PR comments to include the reset time as intended.","createdAt":"2025-11-13T04:09:14Z","id":"IC_kwDOPUU0qc7SHpJO","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/deep-assistant/hive-mind/pull/722#issuecomment-3525218894","viewerDidAuthor":true},{"author":{"login":"konard"},"authorAssociation":"MEMBER","body":"Implemented CLI flag alias support for --skip-claude-check (mapped to --skip-tool-check) in both solve and hive. Hive now also forwards and logs the flag when invoking solve. This addresses the earlier CI failure complaining about unknown arguments.\\n\\nPushed commit f0f83ec. Monitoring the new CI run; will download and analyze logs if any job fails.","createdAt":"2025-11-13T04:14:34Z","id":"IC_kwDOPUU0qc7SHs3l","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/deep-assistant/hive-mind/pull/722#issuecomment-3525234149","viewerDidAuthor":true}],"commits":[{"authoredDate":"2025-11-13T04:01:10Z","authors":[{"email":"drakonard@gmail.com","id":"MDQ6VXNlcjE0MzE5MDQ=","login":"konard","name":"konard"}],"committedDate":"2025-11-13T04:01:10Z","messageBody":"Adding CLAUDE.md with task information for AI processing.\nThis file will be removed when the task is complete.\n\nIssue: https://github.com/deep-assistant/hive-mind/issues/719","messageHeadline":"Initial commit with task details for issue #719","oid":"33e31b46878c9829a523979c7ef8c91beea048f7"},{"authoredDate":"2025-11-13T04:04:18Z","authors":[{"email":"drakonard@gmail.com","id":"MDQ6VXNlcjE0MzE5MDQ=","login":"konard","name":"konard"}],"committedDate":"2025-11-13T04:04:18Z","messageBody":"â€¦ issue #719\\n\\n- When tool run fails due to usage limit, attach PR comment using dedicated usage-limit template with reset time + resume command\\n- Preserve non-zero exit for clear failure signaling\\n- Add docs/case-studies/issue-719 with referenced logs and analysis","messageHeadline":"feat: proper usage-limit handling for PR comments; add case study forâ€¦","oid":"5e21cf3702d8b04583a0805bd084c02fb47e1413"},{"authoredDate":"2025-11-13T04:04:40Z","authors":[{"email":"drakonard@gmail.com","id":"MDQ6VXNlcjE0MzE5MDQ=","login":"konard","name":"konard"}],"committedDate":"2025-11-13T04:04:40Z","messageBody":"This reverts commit 33e31b46878c9829a523979c7ef8c91beea048f7.","messageHeadline":"Revert \"Initial commit with task details for issue #719\"","oid":"fe8043d6ecd64fdbe045a35b09fdb55618b5982b"},{"authoredDate":"2025-11-13T04:07:29Z","authors":[{"email":"drakonard@gmail.com","id":"MDQ6VXNlcjE0MzE5MDQ=","login":"konard","name":"konard"}],"committedDate":"2025-11-13T04:07:29Z","messageBody":"â€¦sses issue #719 weekly limit handling PR by ensuring CI passes\\n- No code changes beyond version bump","messageHeadline":"chore: bump version to 0.33.4 (fix CI verify-version-bump)\\n\\n- Addreâ€¦","oid":"97aea4dd97ef70d5ade9a760f301ad789aa5b9c4"},{"authoredDate":"2025-11-13T04:09:03Z","authors":[{"email":"drakonard@gmail.com","id":"MDQ6VXNlcjE0MzE5MDQ=","login":"konard","name":"konard"}],"committedDate":"2025-11-13T04:09:03Z","messageBody":"â€¦ing (issue #719)","messageHeadline":"fix: set global.limitResetTime from tool result for usage limit handlâ€¦","oid":"dd81ea93544facbe8a7c09c331bb5ad0b24c57f1"},{"authoredDate":"2025-11-13T04:13:50Z","authors":[{"email":"drakonard@gmail.com","id":"MDQ6VXNlcjE0MzE5MDQ=","login":"konard","name":"konard"}],"committedDate":"2025-11-13T04:13:50Z","messageBody":"â€¦propagate in hive -\u003e solve and log command (issue #719)","messageHeadline":"fix(cli): accept --skip-claude-check as alias for --skip-tool-check; â€¦","oid":"f0f83ec39374be48b53c4fcd596c90047048d0d1"}],"deletions":10,"headRefName":"issue-719-a653aae7d4d5","isDraft":false,"mergeStateStatus":"UNSTABLE","mergeable":"MERGEABLE","number":722,"reviews":[],"state":"OPEN","statusCheckRollup":[{"__typename":"CheckRun","completedAt":"2025-11-13T04:14:02Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/deep-assistant/hive-mind/actions/runs/19320298099/job/55260301263","name":"detect-changes","startedAt":"2025-11-13T04:13:58Z","status":"COMPLETED","workflowName":"CI/CD Pipeline for main branch"},{"__typename":"CheckRun","completedAt":"2025-11-13T04:14:04Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/deep-assistant/hive-mind/actions/runs/19320298099/job/55260301277","name":"verify-version-bump","startedAt":"2025-11-13T04:13:58Z","status":"COMPLETED","workflowName":"CI/CD Pipeline for main branch"},{"__typename":"CheckRun","completedAt":"2025-11-13T04:14:13Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/deep-assistant/hive-mind/actions/runs/19320298099/job/55260306526","name":"test-compilation","startedAt":"2025-11-13T04:14:04Z","status":"COMPLETED","workflowName":"CI/CD Pipeline for main branch"},{"__typename":"CheckRun","completedAt":"2025-11-13T04:14:19Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/deep-assistant/hive-mind/actions/runs/19320298099/job/55260306544","name":"lint","startedAt":"2025-11-13T04:14:05Z","status":"COMPLETED","workflowName":"CI/CD Pipeline for main branch"},{"__typename":"CheckRun","completedAt":"2025-11-13T04:14:11Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/deep-assistant/hive-mind/actions/runs/19320298099/job/55260306518","name":"check-file-line-limits","startedAt":"2025-11-13T04:14:06Z","status":"COMPLETED","workflowName":"CI/CD Pipeline for main branch"},{"__typename":"CheckRun","completedAt":"2025-11-13T04:14:11Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/deep-assistant/hive-mind/actions/runs/19320298099/job/55260306509","name":"validate-docs","startedAt":"2025-11-13T04:14:05Z","status":"COMPLETED","workflowName":"CI/CD Pipeline for main branch"},{"__typename":"CheckRun","completedAt":"0001-01-01T00:00:00Z","conclusion":"","detailsUrl":"https://github.com/deep-assistant/hive-mind/actions/runs/19320298099/job/55260315181","name":"test-suites","startedAt":"2025-11-13T04:14:15Z","status":"IN_PROGRESS","workflowName":"CI/CD Pipeline for main branch"},{"__typename":"CheckRun","completedAt":"0001-01-01T00:00:00Z","conclusion":"","detailsUrl":"https://github.com/deep-assistant/hive-mind/actions/runs/19320298099/job/55260315192","name":"test-execution","startedAt":"2025-11-13T04:14:15Z","status":"IN_PROGRESS","workflowName":"CI/CD Pipeline for main branch"},{"__typename":"CheckRun","completedAt":"2025-11-13T04:14:52Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/deep-assistant/hive-mind/actions/runs/19320298099/job/55260315189","name":"memory-check-linux","startedAt":"2025-11-13T04:14:16Z","status":"COMPLETED","workflowName":"CI/CD Pipeline for main branch"},{"__typename":"CheckRun","completedAt":"2025-11-13T04:14:13Z","conclusion":"SKIPPED","detailsUrl":"https://github.com/deep-assistant/hive-mind/actions/runs/19320298099/job/55260315257","name":"memory-check-macos","startedAt":"2025-11-13T04:14:13Z","status":"COMPLETED","workflowName":"CI/CD Pipeline for main branch"},{"__typename":"CheckRun","completedAt":"2025-11-13T04:14:13Z","conclusion":"SKIPPED","detailsUrl":"https://github.com/deep-assistant/hive-mind/actions/runs/19320298099/job/55260315330","name":"memory-check-windows","startedAt":"2025-11-13T04:14:13Z","status":"COMPLETED","workflowName":"CI/CD Pipeline for main branch"}],"title":"[WIP] Make sure we handle limit reached for all tools: claude, codex, opencode","updatedAt":"2025-11-13T04:14:34Z"}
